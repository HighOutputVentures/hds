{"version":3,"file":"hds-utilities.cjs.production.min.js","sources":["../src/For.tsx","../src/merge.ts","../src/Show.tsx","../src/arrayChunk.ts","../src/arrayRandom.ts","../src/arrayUnique.ts","../src/capitalize.ts","../src/omit.ts","../src/pick.ts"],"sourcesContent":["import * as React from \"react\";\r\nimport { Fragment } from \"react\";\r\n\r\nexport type ForProps<T extends unknown[]> = {\r\n  each: T;\r\n  getKey?: (context: T[number], index: number) => string | number;\r\n  children: (context: T[number], index: number) => JSX.Element;\r\n  fallback?: JSX.Element | null;\r\n};\r\n\r\nexport default function For<T extends unknown[]>(props: ForProps<T>) {\r\n  const { each, fallback, children, getKey } = Object.assign(defaultProps, props);\r\n\r\n  if (!each.length) return fallback;\r\n\r\n  return (\r\n    <Fragment>\r\n      {each.map((value, index) => {\r\n        const Item = () => children(value, index);\r\n\r\n        return <Item key={getKey(value, index)} />;\r\n      })}\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nconst defaultProps = {\r\n  fallback: null,\r\n  getKey(_: unknown, index: number) {\r\n    return index;\r\n  },\r\n};\r\n","type Dict = Record<string, any>;\r\n\r\n/**\r\n *\r\n * deeply merge objects\r\n *\r\n */\r\nexport default function merge(target: Dict, source: Dict) {\r\n  Object.keys(source).forEach((key) => {\r\n    const targetValue = target[key];\r\n    const sourceValue = source[key];\r\n\r\n    if (Array.isArray(targetValue) && Array.isArray(sourceValue)) {\r\n      target[key] = [...targetValue, ...sourceValue];\r\n    } else if (isObject(targetValue) && isObject(sourceValue)) {\r\n      target[key] = merge(targetValue, sourceValue);\r\n    } else {\r\n      target[key] = sourceValue;\r\n    }\r\n  });\r\n\r\n  return target;\r\n}\r\n\r\nfunction isObject(subject: unknown) {\r\n  return Object.prototype.toString.call(subject) === \"[object Object]\";\r\n}\r\n","import * as React from \"react\";\r\n\r\nexport type ShowProps = {\r\n  when?: boolean;\r\n  fallback?: JSX.Element | null;\r\n};\r\n\r\nexport default function Show(props: React.PropsWithChildren<ShowProps>) {\r\n  const { when, fallback, children } = Object.assign({ fallback: null }, props);\r\n\r\n  return !when ? fallback : <React.Fragment>{children}</React.Fragment>;\r\n}\r\n","export default function arrayChunk<T extends any[]>(array: T, size: number) {\r\n  const chunks: T[number][][] = [];\r\n  const copy = [...array];\r\n\r\n  const len = copy.length;\r\n  const max = Math.ceil(len / size);\r\n  let idx = 0;\r\n\r\n  for (; idx < max; idx++) {\r\n    chunks.push(copy.splice(0, size));\r\n  }\r\n\r\n  return chunks;\r\n}\r\n","export default function arrayRandom<T extends any[]>(choices: T): T[number] {\r\n  return choices[Math.floor(Math.random() * choices.length)];\r\n}\r\n","/**\r\n *\r\n * @example\r\n * arrayUnique([1, 2, 3, 4, 5, 1, 2, 3, 4]) // [1, 2, 3, 4, 5]\r\n * arrayUnique([\r\n *  {key: 1},\r\n *  {key: 2},\r\n *  {key: 3},\r\n *  {key: 1},\r\n *  {key: 2},\r\n * ], (item) => item.key) // [{key: 1}, {key: 2}, {key: 3}]\r\n *\r\n */\r\nexport default function arrayUnique<T extends any[]>(\r\n  array: T,\r\n  callback: (item: T[number]) => any = (item) => item,\r\n) {\r\n  const copy = [...array];\r\n  const mapped = copy.map(callback);\r\n\r\n  return copy.filter((item, index) => mapped.indexOf(callback(item)) === index);\r\n}\r\n","interface Config {\r\n  trim?: boolean;\r\n  lower?: boolean;\r\n  delimiter?: string;\r\n}\r\n\r\nexport default function capitalize(subject: string, config: Config = {}) {\r\n  if (!config.delimiter) config.delimiter = \". \";\r\n\r\n  if (config.trim) subject = subject.trim().replace(/\\s{2,}/g, \" \");\r\n  if (config.lower) subject = subject.toLowerCase();\r\n\r\n  if (subject.length <= 0) return subject;\r\n\r\n  return subject\r\n    .split(config.delimiter)\r\n    .map((value) => value.at(0)?.toUpperCase().concat(value.substring(1)))\r\n    .join(config.delimiter);\r\n}\r\n","export default function omit<T extends Record<string, any>, K extends string[]>(\r\n  subject: T,\r\n  ...keys: K\r\n): Omit<T, K[number]> {\r\n  const copy = { ...subject };\r\n\r\n  for (const key of keys) {\r\n    if (key in copy) {\r\n      delete copy[key];\r\n    }\r\n  }\r\n\r\n  return copy;\r\n}\r\n","export default function pick<T extends Record<string, any>, K extends keyof T>(\r\n  subject: T,\r\n  ...keys: K[]\r\n) {\r\n  const copy = { ...subject };\r\n  const picked: Partial<Record<K, T[K]>> = {};\r\n\r\n  for (const key of keys) {\r\n    if (key in copy) {\r\n      picked[key] = copy[key];\r\n    }\r\n  }\r\n\r\n  return picked;\r\n}\r\n"],"names":["defaultProps","fallback","getKey","_","index","isObject","subject","Object","prototype","toString","call","props","assign","each","children","length","React","Fragment","map","value","key","when","array","size","chunks","copy","max","Math","ceil","idx","push","splice","choices","floor","random","callback","item","mapped","filter","indexOf","config","delimiter","trim","replace","lower","toLowerCase","split","at","_value$at","toUpperCase","concat","substring","join","merge","target","source","keys","forEach","targetValue","sourceValue","Array","isArray","picked"],"mappings":"2FA0BMA,EAAe,CACnBC,SAAU,KACVC,gBAAOC,EAAYC,GACjB,OAAOA,ICLX,SAASC,EAASC,GAChB,MAAmD,oBAA5CC,OAAOC,UAAUC,SAASC,KAAKJ,2PDfSK,GAC/C,MAA6CJ,OAAOK,OAAOZ,EAAcW,GAAjEE,IAAAA,KAAMZ,IAAAA,SAAUa,IAAAA,SAAUZ,IAAAA,OAElC,OAAKW,EAAKE,OAGRC,gBAACC,gBACEJ,EAAKK,KAAI,SAACC,EAAOf,GAGhB,OAAOY,iBAFM,WAAH,OAASF,EAASK,EAAOf,MAEtBgB,IAAKlB,EAAOiB,EAAOf,SAPbH,yBENEU,GAC3B,MAAqCJ,OAAOK,OAAO,CAAEX,SAAU,MAAQU,GAAzDV,IAAAA,SAEd,SAFQoB,KAEkBL,gBAACA,kBAFHF,UAETb,+BCVmCqB,EAAUC,GAQ5D,IAPA,IAAMC,EAAwB,GACxBC,YAAWH,GAGXI,EAAMC,KAAKC,KADLH,EAAKV,OACWQ,GACxBM,EAAM,EAEHA,EAAMH,EAAKG,IAChBL,EAAOM,KAAKL,EAAKM,OAAO,EAAGR,IAG7B,OAAOC,gCCZ4CQ,GACnD,OAAOA,EAAQL,KAAKM,MAAMN,KAAKO,SAAWF,EAAQjB,uCCalDO,EACAa,YAAAA,IAAAA,EAAqC,SAACC,GAAI,OAAKA,IAE/C,IAAMX,YAAWH,GACXe,EAASZ,EAAKP,IAAIiB,GAExB,OAAOV,EAAKa,QAAO,SAACF,EAAMhC,GAAK,OAAKiC,EAAOE,QAAQJ,EAASC,MAAWhC,kCCdtCE,EAAiBkC,GAMlD,gBANkDA,IAAAA,EAAiB,IAC9DA,EAAOC,YAAWD,EAAOC,UAAY,MAEtCD,EAAOE,OAAMpC,EAAUA,EAAQoC,OAAOC,QAAQ,UAAW,MACzDH,EAAOI,QAAOtC,EAAUA,EAAQuC,eAEhCvC,EAAQS,QAAU,EAAUT,EAEzBA,EACJwC,MAAMN,EAAOC,WACbvB,KAAI,SAACC,GAAK,MAAA,gBAAKA,EAAM4B,GAAG,WAATC,EAAaC,cAAcC,OAAO/B,EAAMgC,UAAU,OACjEC,KAAKZ,EAAOC,mCLVOY,EAAMC,EAAcC,GAc1C,OAbAhD,OAAOiD,KAAKD,GAAQE,SAAQ,SAACrC,GAC3B,IAAMsC,EAAcJ,EAAOlC,GACrBuC,EAAcJ,EAAOnC,GAGzBkC,EAAOlC,GADLwC,MAAMC,QAAQH,IAAgBE,MAAMC,QAAQF,aAC5BD,EAAgBC,GACzBtD,EAASqD,IAAgBrD,EAASsD,GAC7BN,EAAMK,EAAaC,GAEnBA,KAIXL,yBMpBPhD,GAG4B,IAA5B,IAAMmB,OAAYnB,sBAFfkD,mCAAAA,oBAIH,cAAkBA,iBAAM,CAAnB,IAAMpC,OACLA,KAAOK,UACFA,EAAKL,GAIhB,OAAOK,yBCXPnB,GAI4C,IAD5C,IAAMmB,OAAYnB,GACZwD,EAAmC,sBAHtCN,mCAAAA,oBAKH,cAAkBA,iBAAM,CAAnB,IAAMpC,OACLA,KAAOK,IACTqC,EAAO1C,GAAOK,EAAKL,IAIvB,OAAO0C"}