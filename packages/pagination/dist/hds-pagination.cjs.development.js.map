{"version":3,"file":"hds-pagination.cjs.development.js","sources":["../src/components/Pagination.tsx"],"sourcesContent":["import {\n  ButtonProps,\n  Flex,\n  FlexProps,\n  HStack,\n  IconButton,\n  IconProps,\n  Select,\n  SelectProps,\n  StackProps,\n  Text,\n  TextProps,\n  ThemingProps,\n  useMultiStyleConfig,\n} from '@chakra-ui/react';\nimport React, { FC, useCallback, useId } from 'react';\nimport { ChevronLeftIcon, ChevronRightIcon } from '@highoutput/hds-icons';\n\ntype WithoutChildren<T> = Omit<T, 'children'>;\n\nexport interface PaginationProps extends ThemingProps {\n  page: number;\n  size: number;\n  total: number;\n  onSizeChange?: (newSize: number) => void;\n  onPageChange?: (newPage: number) => void;\n  options: {\n    sizes: number[];\n  };\n  /**\n   *\n   * _Not yet implemented_\n   *\n   */\n  loading?: boolean;\n  partProps?: Partial<{\n    container?: WithoutChildren<FlexProps>;\n    dropdown?: WithoutChildren<SelectProps>;\n    dropdownLabel?: WithoutChildren<TextProps>;\n    dropdownContainer?: WithoutChildren<StackProps>;\n    caption?: WithoutChildren<TextProps>;\n    captionAndControlsContainer?: WithoutChildren<StackProps>;\n    controls?: WithoutChildren<ButtonProps>;\n    controlIcons?: WithoutChildren<IconProps>;\n    controlsContainer?: WithoutChildren<StackProps>;\n  }>;\n}\n\nconst Pagination: FC<PaginationProps> = ({\n  page,\n  size,\n  total,\n  onPageChange,\n  onSizeChange,\n  options,\n  partProps,\n  variant,\n}) => {\n  const styles = useMultiStyleConfig('Pagination', { variant });\n  const id = useId();\n\n  const hasPrev = page > 1;\n  const hasNext = page * size < total;\n\n  const handleSizeChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    if (onSizeChange) onSizeChange(parseInt(e.target.value));\n  };\n\n  const handlePageChange = (type: 'increment' | 'decrement') => {\n    const newPage = type === 'increment' ? page + 1 : page - 1;\n\n    return () => (onPageChange ? onPageChange(newPage) : newPage);\n  };\n\n  const indexStart = (page - 1) * size + 1;\n  const indexStop = page * size;\n  const remainder = total % size;\n\n  const getPageInfo = useCallback(() => {\n    let pageInfo = '';\n\n    pageInfo += 'Page ';\n    pageInfo += indexStart;\n    pageInfo += '-';\n    pageInfo += indexStop > total ? indexStart - 1 + remainder : indexStop;\n    pageInfo += ' of ';\n    pageInfo += total;\n\n    return pageInfo;\n  }, [indexStart, indexStop, total, remainder]);\n\n  return (\n    <Flex\n      id={id}\n      alignItems=\"center\"\n      justifyContent=\"space-between\"\n      sx={styles.container}\n      {...partProps?.container}\n    >\n      <HStack spacing={2} {...partProps?.dropdownContainer}>\n        <Text\n          as=\"span\"\n          whiteSpace=\"nowrap\"\n          sx={styles.dropdownLabel}\n          {...partProps?.dropdownLabel}\n        >\n          Show rows per page\n        </Text>\n\n        <Select\n          data-testid={`${id}-pagination.dropdown`}\n          onChange={handleSizeChange}\n          value={size}\n          sx={styles.dropdown}\n          {...partProps?.dropdown}\n        >\n          {options.sizes.map((size, index) => (\n            <option\n              value={size}\n              key={id + size + index}\n              data-testid={`${id}-${size}-${index}`}\n            >\n              {size}\n            </option>\n          ))}\n        </Select>\n      </HStack>\n\n      <HStack spacing={4} {...partProps?.captionAndControlsContainer}>\n        <Text as=\"span\" sx={styles.caption} {...partProps?.caption}>\n          {getPageInfo()}\n        </Text>\n\n        <HStack {...partProps?.controlsContainer}>\n          <IconButton\n            aria-label=\"\"\n            data-testid={`${id}-pagination.controls.prev`}\n            icon={\n              <ChevronLeftIcon\n                color=\"white\"\n                sx={styles.controlIcons}\n                {...partProps?.controlIcons}\n              />\n            }\n            onClick={handlePageChange('decrement')}\n            paddingTop=\"10px\"\n            paddingLeft=\"12px\"\n            disabled={!hasPrev}\n            sx={styles.iconButton}\n            {...partProps?.controls}\n          />\n\n          <IconButton\n            aria-label=\"\"\n            data-testid={`${id}-pagination.controls.next`}\n            icon={\n              <ChevronRightIcon\n                color=\"white\"\n                sx={styles.controlIcons}\n                {...partProps?.controlIcons}\n              />\n            }\n            onClick={handlePageChange('increment')}\n            disabled={!hasNext}\n            paddingTop=\"10px\"\n            paddingLeft=\"12px\"\n            sx={styles.iconButton}\n            {...partProps?.controls}\n          />\n        </HStack>\n      </HStack>\n    </Flex>\n  );\n};\n\nexport default Pagination;\n"],"names":["Pagination","page","size","total","onPageChange","onSizeChange","options","partProps","variant","styles","useMultiStyleConfig","id","useId","hasPrev","hasNext","handleSizeChange","e","parseInt","target","value","handlePageChange","type","newPage","indexStart","indexStop","remainder","getPageInfo","useCallback","pageInfo","React","Flex","alignItems","justifyContent","sx","container","HStack","spacing","dropdownContainer","Text","as","whiteSpace","dropdownLabel","Select","onChange","dropdown","sizes","map","index","key","captionAndControlsContainer","caption","controlsContainer","IconButton","icon","ChevronLeftIcon","color","controlIcons","onClick","paddingTop","paddingLeft","disabled","iconButton","controls","ChevronRightIcon"],"mappings":";;;;;;;;;;;AAgDA,IAAMA,UAAU,GAAwB,SAAlCA,UAAU;MACdC,IAAI,QAAJA,IAAI;IACJC,IAAI,QAAJA,IAAI;IACJC,KAAK,QAALA,KAAK;IACLC,YAAY,QAAZA,YAAY;IACZC,YAAY,QAAZA,YAAY;IACZC,OAAO,QAAPA,OAAO;IACPC,SAAS,QAATA,SAAS;IACTC,OAAO,QAAPA,OAAO;EAEP,IAAMC,MAAM,GAAGC,yBAAmB,CAAC,YAAY,EAAE;IAAEF,OAAO,EAAPA;GAAS,CAAC;EAC7D,IAAMG,EAAE,GAAGC,WAAK,EAAE;EAElB,IAAMC,OAAO,GAAGZ,IAAI,GAAG,CAAC;EACxB,IAAMa,OAAO,GAAGb,IAAI,GAAGC,IAAI,GAAGC,KAAK;EAEnC,IAAMY,gBAAgB,GAAG,SAAnBA,gBAAgB,CAAIC,CAAuC;IAC/D,IAAIX,YAAY,EAAEA,YAAY,CAACY,QAAQ,CAACD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC;GACzD;EAED,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgB,CAAIC,IAA+B;IACvD,IAAMC,OAAO,GAAGD,IAAI,KAAK,WAAW,GAAGpB,IAAI,GAAG,CAAC,GAAGA,IAAI,GAAG,CAAC;IAE1D,OAAO;MAAA,OAAOG,YAAY,GAAGA,YAAY,CAACkB,OAAO,CAAC,GAAGA,OAAO;KAAC;GAC9D;EAED,IAAMC,UAAU,GAAG,CAACtB,IAAI,GAAG,CAAC,IAAIC,IAAI,GAAG,CAAC;EACxC,IAAMsB,SAAS,GAAGvB,IAAI,GAAGC,IAAI;EAC7B,IAAMuB,SAAS,GAAGtB,KAAK,GAAGD,IAAI;EAE9B,IAAMwB,WAAW,GAAGC,iBAAW,CAAC;IAC9B,IAAIC,QAAQ,GAAG,EAAE;IAEjBA,QAAQ,IAAI,OAAO;IACnBA,QAAQ,IAAIL,UAAU;IACtBK,QAAQ,IAAI,GAAG;IACfA,QAAQ,IAAIJ,SAAS,GAAGrB,KAAK,GAAGoB,UAAU,GAAG,CAAC,GAAGE,SAAS,GAAGD,SAAS;IACtEI,QAAQ,IAAI,MAAM;IAClBA,QAAQ,IAAIzB,KAAK;IAEjB,OAAOyB,QAAQ;GAChB,EAAE,CAACL,UAAU,EAAEC,SAAS,EAAErB,KAAK,EAAEsB,SAAS,CAAC,CAAC;EAE7C,OACEI,6BAACC,UAAI;IACHnB,EAAE,EAAEA,EAAE;IACNoB,UAAU,EAAC,QAAQ;IACnBC,cAAc,EAAC,eAAe;IAC9BC,EAAE,EAAExB,MAAM,CAACyB;KACP3B,SAAS,oBAATA,SAAS,CAAE2B,SAAS,GAExBL,6BAACM,YAAM;IAACC,OAAO,EAAE;KAAO7B,SAAS,oBAATA,SAAS,CAAE8B,iBAAiB,GAClDR,6BAACS,UAAI;IACHC,EAAE,EAAC,MAAM;IACTC,UAAU,EAAC,QAAQ;IACnBP,EAAE,EAAExB,MAAM,CAACgC;KACPlC,SAAS,oBAATA,SAAS,CAAEkC,aAAa,wBAGvB,EAEPZ,6BAACa,YAAM;mBACW/B,EAAE,yBAAsB;IACxCgC,QAAQ,EAAE5B,gBAAgB;IAC1BI,KAAK,EAAEjB,IAAI;IACX+B,EAAE,EAAExB,MAAM,CAACmC;KACPrC,SAAS,oBAATA,SAAS,CAAEqC,QAAQ,GAEtBtC,OAAO,CAACuC,KAAK,CAACC,GAAG,CAAC,UAAC5C,IAAI,EAAE6C,KAAK;IAAA,OAC7BlB;MACEV,KAAK,EAAEjB,IAAI;MACX8C,GAAG,EAAErC,EAAE,GAAGT,IAAI,GAAG6C,KAAK;qBACNpC,EAAE,SAAIT,IAAI,SAAI6C;OAE7B7C,IAAI,CACE;GACV,CAAC,CACK,CACF,EAET2B,6BAACM,YAAM;IAACC,OAAO,EAAE;KAAO7B,SAAS,oBAATA,SAAS,CAAE0C,2BAA2B,GAC5DpB,6BAACS,UAAI;IAACC,EAAE,EAAC,MAAM;IAACN,EAAE,EAAExB,MAAM,CAACyC;KAAa3C,SAAS,oBAATA,SAAS,CAAE2C,OAAO,GACvDxB,WAAW,EAAE,CACT,EAEPG,6BAACM,YAAM,oBAAK5B,SAAS,oBAATA,SAAS,CAAE4C,iBAAiB,GACtCtB,6BAACuB,gBAAU;kBACE,EAAE;mBACGzC,EAAE,8BAA2B;IAC7C0C,IAAI,EACFxB,6BAACyB,wBAAe;MACdC,KAAK,EAAC,OAAO;MACbtB,EAAE,EAAExB,MAAM,CAAC+C;OACPjD,SAAS,oBAATA,SAAS,CAAEiD,YAAY,EAC3B;IAEJC,OAAO,EAAErC,gBAAgB,CAAC,WAAW,CAAC;IACtCsC,UAAU,EAAC,MAAM;IACjBC,WAAW,EAAC,MAAM;IAClBC,QAAQ,EAAE,CAAC/C,OAAO;IAClBoB,EAAE,EAAExB,MAAM,CAACoD;KACPtD,SAAS,oBAATA,SAAS,CAAEuD,QAAQ,EACvB,EAEFjC,6BAACuB,gBAAU;kBACE,EAAE;mBACGzC,EAAE,8BAA2B;IAC7C0C,IAAI,EACFxB,6BAACkC,yBAAgB;MACfR,KAAK,EAAC,OAAO;MACbtB,EAAE,EAAExB,MAAM,CAAC+C;OACPjD,SAAS,oBAATA,SAAS,CAAEiD,YAAY,EAC3B;IAEJC,OAAO,EAAErC,gBAAgB,CAAC,WAAW,CAAC;IACtCwC,QAAQ,EAAE,CAAC9C,OAAO;IAClB4C,UAAU,EAAC,MAAM;IACjBC,WAAW,EAAC,MAAM;IAClB1B,EAAE,EAAExB,MAAM,CAACoD;KACPtD,SAAS,oBAATA,SAAS,CAAEuD,QAAQ,EACvB,CACK,CACF,CACJ;AAEX,CAAC;;;;"}